const mongoose = require('mongoose'), 
    Schema = mongoose.Schema;

const studentSchema = new Schema({
    loginRole: {type: String, default: 'PLACEHOLDER'},
    loginEmail: {type: String, default: 'PLACEHOLDER'},
    loginPassword: {type: String, default: 'PLACEHOLDER'},
    updated_at : Date,
    created_at : Date,
    survey: {
        demoAge: {type: Number},
        gender: {type: String},
       //genderOther: {type: String},
        ethnicity: {type: Array, default: []},
        //ethnicityOther: {type: String},
        institution: {type: String},
        enrollStatus: {type: String},
        collegeYear: {type: String},
        beforeFirstSemester: {type: String},
        //beforeFirstSemesterOther: {type: String},
        major: {type: String},
        field: {type: String, default: ''},
        //fieldOther: {type: String, default: ''},
        switchFromStem: {type: String, default: ''},
        intendToSwitch: {type: String, default: ''},
        intendedMajor: {type: String, default: ''},
        involvedInActivity: {type: String, default: ''},
        intendedActivity: {type: Array, default: []},
        no_OCA_1to14: {
            default: [],
            noOCAReason1: {type: Number, default: 0},
            noOCAReason2: {type: Number, default: 0},
            noOCAReason3: {type: Number, default: 0},
            noOCAReason4: {type: Number, default: 0},
            noOCAReason5: {type: Number, default: 0},
            noOCAReason6: {type: Number, default: 0},
            noOCAReason7: {type: Number, default: 0},
            noOCAReason8: {type: Number, default: 0},
            noOCAReason9: {type: Number, default: 0},
            noOCAReason10: {type: Number, default: 0},
            noOCAReason11: {type: Number, default: 0},
            noOCAReason12: {type: Number, default: 0},
            noOCAReason13: {type: Number, default: 0},
            noOCAReason14: {type: Number, default: 0}
        },
       noOCA_15to30: {
            default: [],
            noOCAReason15: {type: Number, default: 0},
            noOCAReason16: {type: Number, default: 0},
            noOCAReason17: {type: Number, default: 0},
            noOCAReason18: {type: Number, default: 0},
            noOCAReason19: {type: Number, default: 0},
            noOCAReason20: {type: Number, default: 0},
            noOCAReason21: {type: Number, default: 0},
            noOCAReason22: {type: Number, default: 0},
            noOCAReason23: {type: Number, default: 0},
            noOCAReason24: {type: Number, default: 0},
            noOCAReason25: {type: Number, default: 0},
            noOCAReason26: {type: Number, default: 0},
            noOCAReason27: {type: Number, default: 0},
            noOCAReason28: {type: Number, default: 0},
            noOCAReason29: {type: Number, default: 0},
            noOCAReason30: {type: Number, default: 0}
        },
        ae_grit: {
            ae1: {type: Number},
            ae2: {type: Number},
            ae3: {type: Number},
            ae4: {type: Number},
            ae5: {type: Number},
            ae6: {type: Number},
            ae7: {type: Number},
            ae8: {type: Number},
            ae9: {type: Number},
            ae10: {type: Number},
            ae11: {type: Number},
            ae12: {type: Number},
            ae13: {type: Number},
            ae14: {type: Number},
            ae15: {type: Number},
            ae16: {type: Number},
            ae17: {type: Number},
            ae18: {type: Number},
            ae19: {type: Number},
            ae20: {type: Number},
            ae21: {type: Number},
            ae22: {type: Number},
            ae23: {type: Number},
            ae24: {type: Number},
            ae25: {type: Number},
            ae26: {type: Number},
            ae27: {type: Number},
            ae28: {type: Number},
            grit1: {type: Number},
            grit2: {type: Number},
            grit3: {type: Number},
            grit4: {type: Number},
            grit5: {type: Number},
            grit6: {type: Number},
            grit7: {type: Number},
            grit8: {type: Number}
        },

        livingArea: {type: String},
        //livingAreaOther: {type: String},
        gpa: {
            firstYearGPA: {type: String, default: ''},
            cumulativeGPA: {type: Number, default: 999},
            maxGPA: {type: Number, default: 999}
        },
        guardian1: {type: String},
        //guardian1_notRelated: {type: String},
        guardian2: {type: String},
        //guardian2_notRelated: {type: String},
        parentEducation: {
            guardian1SchoolLevel: {type: Number},
            guardian2SchoolLevel: {type: Number}
        },
        siblingCompleteDegree: {type: String},
        houseIncome: {type: String},
        usCitizen: {type: String},
        military: {type: String},
        disability: {type: Array, default: []},
        //disability_other: {type: String},
        lgbt: {type: String},
        highschool1: {type: String, default: ''},
        highschool2: {type: String, default: ''},
        highschool3: {type: Number, default: ''},
        highschool4: {type: String, default: ''},
        highschool5: {type: Number, default: 0},
        highschool6: {type: String, default: 0},
        contact1: {type: String, default: ''},
        contact2: {type: String, default: ''},
        contactInfo: {
            default: [],
            contact3: {type: String, default: ''},
            contact4: {type: String, default: ''},
            contact5: {type: String, default: ''}
        },
        contact6: {type: String, default: ''},
        all: {type: Array, default: []},
        //allOther: {type: Array},
        levelAct: {
            default: [],
            levelAct1: {type: Number, default: 0},
            levelAct2: {type: Number, default: 0},
            levelAct3: {type: Number, default: 0},
            levelAct4: {type: Number, default: 0},
            levelAct5: {type: Number, default: 0},
            levelAct6: {type: Number, default: 0},
            levelAct7: {type: Number, default: 0},
            levelAct8: {type: Number, default: 0},
            levelAct9: {type: Number, default: 0},
            levelAct10: {type: Number, default: 0},
            levelAct11: {type: Number, default: 0},
            levelAct12: {type: Number, default: 0},
            levelAct13: {type: Number, default: 0},
            levelAct14: {type: Number, default: 0},
            levelAct15: {type: Number, default: 0},
            levelAct16: {type: Number, default: 0},
            levelAct17: {type: Number, default: 0},
            levelAct18: {type: Number, default: 0},
            levelAct19: {type: Number, default: 0},
            levelAct20: {type: Number, default: 0}
        },
        participationHours: {type: String, default: ''},
        participationCredit: {type: String, default: ''},
        participationPaid: {type: String, default: ''},
        allOut: {
            default: [],
            allOut1: {type: Number, default: 0},
            allOut2: {type: Number, default: 0},
            allOut3: {type: Number, default: 0},
            allOut4: {type: Number, default: 0},
            allOut5: {type: Number, default: 0},
            allOut6: {type: Number, default: 0},
            allOut7: {type: Number, default: 0},
            allOut8: {type: Number, default: 0},
            allOut9: {type: Number, default: 0},
            allOut10: {type: Number, default: 0},
            allOut11: {type: Number, default: 0},
            allOut12: {type: Number, default: 0},
            allOut13: {type: Number, default: 0},
            allOut14: {type: Number, default: 0},
            allOut15: {type: Number, default: 0},
            allOut16: {type: Number, default: 0},
            allOut17: {type: Number, default: 0},
            allOut18: {type: Number, default: 0},
            allOut19: {type: Number, default: 0},
            allOut20: {type: Number, default: 0},
            allOut21: {type: Number, default: 0},
            allOut22: {type: Number, default: 0},
            allOut23: {type: Number, default: 0},
            allOut24: {type: Number, default: 0},
            allOut25: {type: Number, default: 0},
            allOut26: {type: Number, default: 0},
            allOut27: {type: Number, default: 0},
            allOut28: {type: Number, default: 0},
            allOut29: {type: Number, default: 0},
            allOut30: {type: Number, default: 0}
        },
        allReason_1to14: {
            default: [],
            allReason1: {type: Number, default: 0},
            allReason2: {type: Number, default: 0},
            allReason3: {type: Number, default: 0},
            allReason4: {type: Number, default: 0},
            allReason5: {type: Number, default: 0},
            allReason6: {type: Number, default: 0},
            allReason7: {type: Number, default: 0},
            allReason8: {type: Number, default: 0},
            allReason9: {type: Number, default: 0},
            allReason10: {type: Number, default: 0},
            allReason11: {type: Number, default: 0},
            allReason12: {type: Number, default: 0},
            allReason13: {type: Number, default: 0},
            allReason14: {type: Number, default: 0}
        },
        allReason_15to30: {
            default: [],
            allReason15: {type: Number, default: 0},
            allReason16: {type: Number, default: 0},
            allReason17: {type: Number, default: 0},
            allReason18: {type: Number, default: 0},
            allReason19: {type: Number, default: 0},
            allReason20: {type: Number, default: 0},
            allReason21: {type: Number, default: 0},
            allReason22: {type: Number, default: 0},
            allReason23: {type: Number, default: 0},
            allReason24: {type: Number, default: 0},
            allReason25: {type: Number, default: 0},
            allReason26: {type: Number, default: 0},
            allReason27: {type: Number, default: 0},
            allReason28: {type: Number, default: 0},
            allReason29: {type: Number, default: 0},
            allReason30: {type: Number, default: 0}
        },
        top: {type: String},
        topOut: {
            default: [],
            topOut1: {type: Number, default: 0},
            topOut2: {type: Number, default: 0},
            topOut3: {type: Number, default: 0},
            topOut4: {type: Number, default: 0},
            topOut5: {type: Number, default: 0},
            topOut6: {type: Number, default: 0},
            topOut7: {type: Number, default: 0},
            topOut8: {type: Number, default: 0},
            topOut9: {type: Number, default: 0},
            topOut10: {type: Number, default: 0},
            topOut11: {type: Number, default: 0},
            topOut12: {type: Number, default: 0},
            topOut13: {type: Number, default: 0},
            topOut14: {type: Number, default: 0},
            topOut15: {type: Number, default: 0},
            topOut16: {type: Number, default: 0},
            topOut17: {type: Number, default: 0},
            topOut18: {type: Number, default: 0},
            topOut19: {type: Number, default: 0},
            topOut20: {type: Number, default: 0},
            topOut21: {type: Number, default: 0},
            topOut22: {type: Number, default: 0},
            topOut23: {type: Number, default: 0},
            topOut24: {type: Number, default: 0},
            topOut25: {type: Number, default: 0},
            topOut26: {type: Number, default: 0},
            topOut27: {type: Number, default: 0},
            topOut28: {type: Number, default: 0},
            topOut29: {type: Number, default: 0},
            topOut30: {type: Number, default: 0}
        },
        topReason: {
            default: [],
            topReason1: {type: Number, default: 0},
            topReason2: {type: Number, default: 0},
            topReason3: {type: Number, default: 0},
            topReason4: {type: Number, default: 0},
            topReason5: {type: Number, default: 0},
            topReason6: {type: Number, default: 0},
            topReason7: {type: Number, default: 0},
            topReason8: {type: Number, default: 0},
            topReason9: {type: Number, default: 0},
            topReason10: {type: Number, default: 0},
            topReason11: {type: Number, default: 0},
            topReason12: {type: Number, default: 0},
            topReason13: {type: Number, default: 0},
            topReason14: {type: Number, default: 0}
        }
/*
        activities: {type: Array},
        weekHr: {type: Number},
        MajorSatisfaction1: {type: String},
        MajorSatisfaction2: {type: String},
        MajorSatisfaction3: {type: String},
        MajorSatisfaction4: {type: String},
        MajorSatisfaction5: {type: String},
        Belonging1: {type: String},
        Belonging2: {type: String},
        Belonging3: {type: String},
        MajorValuing1: {type: String},
        MajorValuing2: {type: String},
        MajorValuing3: {type: String},
        AchievementStriving1: {type: String},
        AchievementStriving2: {type: String},
        AchievementStriving3: {type: String},
        AchievementStriving4: {type: String},
        AchievementStriving5: {type: String},
        PosFalRelationship1: {type: String},
        PosFalRelationship2: {type: String},
        PosFalRelationship3: {type: String},
        PeerInteraction1: {type: String},
        PeerInteraction2: {type: String},
        PeerInteraction3: {type: String},
        PeerInteraction4: {type: String},
        Grit1: {type: String},
        Grit2: {type: String},
        Grit3: {type: String},
        Grit4: {type: String},
        Grit5: {type: String},
        Grit6: {type: String},
        Grit7: {type: String},
        Grit8: {type: String},
        topActivity: {type: String},
        E2: {type: Number},
        E3: {type: Number},
        E4: {type: Number},
        E5: {type: Number},
        E6: {type: Number},
        E7: {type: Number},
        E8: {type: Number},
        E9: {type: Number},
        phone: {type: String}*/
    }
});

// Before saving student into database, updates the updated_at and created_at (if student is new) 
studentSchema.pre('save', function(next) {
    const currentDate = new Date();
    this.updated_at = currentDate;
    if(!this.created_at){
      this.created_at = currentDate;
    }
    next();
});

const Student = mongoose.model('Student', studentSchema);

module.exports = Student;


